# 备忘学习文档

## AM activeMessenger

登录方式
> 内网：192.168.1.118  
> 外网：36.110.70.154  
> 用户名：张秋  
> 密码：1

## 人员

| 靠过道 | 中间   | 靠墙   |
| ------ | ------ | ------ |
| 吴征   | 杨莉娜 | 徐冲亚 |
| 刘浩   | 吴国书 | 张秋   |
| 杨延哲 | 王冉   | 李凤梅 |
| 张彪   | 郝凡宁 | 张亚琼 |
| xxx    | xxx    | 尹建卓 |
| 石金瑞 | 许俊雄 | 黄金秋 |

## 问题

### 设计师（创意人 creative_people/supplier）

1. 案例添加入口在未上架页面，逻辑有问题
1. 以案例这种方式当报价真的好吗？案例和真正的

### 客户端

1. 案例列表页的小圈是什么，能选择吗，还是头像，评价没有按从高到底的状态吗，综合、评价和价格是互斥的吗
1. 案例列表筛选行业分类22类，没有小类吗
1. 案例详情页、设计师详情页可分享，有H5，有打开App链接
1. 列表搜索接口，案例/设计师、关键字（和设计师与案例有关系吗？？用的lucene？？）、综合/成交量/评价、筛选条件(价格/设计分类（必须选小类吗？？？）/行业分类)
1. 分类页直接跳到搜索页（大类不可点）
1. 订单列表，中止订单为什么还有预警完成时间。中止订单还可以继续订单。。申请退款才是真正的的中止吗？？？
1. 未完成订单到流程页，已完成订单到订单详情页。（未完成的订单如何查看订单详情？？？）
1. 我的收藏中的案例如果下架了，或者被修改了。中的信息是改的吗？（复制一份快照，还是存id指链接）
1. 个人设置z资料页的选择是第一次才有的吧（或者是不是注册的时候填写的，还是每次都有）
1. 银行卡绑定的时候是直接去银行的接口检验（姓名、手机号、卡号是否一致）还是只是把卡号存入数据库即可。

#### 测试帐号

> 帐号 18676761023 密码 123456

## idea学习

maven控制台中文乱码
> Setting->maven->runner   设置VMoptions: -Dfile.encoding=GB2312

快捷键

+ outline 视图 `ctrl + F12`
+ 导入包,自动修正 `Alt+回车`
+ 查找类 `Ctrl+N`
+ 查找文件 `Ctrl+Shift+N`
+ 格式化代码 `Ctrl+Alt+L`
+ 优化导入的类和包 `Ctrl+Alt+O`
+ 生成代码(如get,set方法,构造函数等) `Alt+Insert`
+ 最近更改的代码 `Ctrl+E或者Alt+Shift+C`
+ 替换文本 `Ctrl+R`
+ 查找文本 `Ctrl+F`
+ 自动补全代码 `Ctrl+Shift+Space`
+ 代码提示 `Ctrl+空格`
+ 类名或接口名提示 `Ctrl+Alt+Space`
+ 方法参数提示 `Ctrl+P`
+ 查找类中的方法或变量 `Ctrl+Shift+Alt+N`
+ 对比最近修改的代码 `Alt+Shift+C`
+ 重构-重命名 `Shift+F6`
+ 移动行 `Ctrl+Shift+先上键`
+ 删除行 `Ctrl+X``Ctrl+Y`
+ 复制行 `Ctrl+D`
+ 注释（//或者/*...*/） `Ctrl+/` `Ctrl+Shift+/`
+ 自动代码 `Ctrl+J`
+ 最近打开的文件 `Ctrl+E`
+ 显示类结构图 `Ctrl+H`
+ 显示注释文档 `Ctrl+Q`
+ 查找代码所在位置 `Alt+F1`
+ 快速打开或隐藏工程面板 `Alt+1`
+ 返回至上次浏览的位置 `Ctrl+Alt+left/right`
+ 切换代码视图 `Alt+left/right`
+ 在方法间快速移动定位 `Alt+Up/Down`
+ 代码向上/下移动。 `Ctrl+Shift+Up/Down`
+ 高亮错误或警告快速定位 `F2或Shift+F2`
+ 代码标签输入完成后，按Tab，生成代码。 `tab`
+ 选中文本，高亮显示所有该文本，按Esc高亮消失。 `Ctrl+Shift+F7`
+ 选中代码，连续按会有其他效果 `Ctrl+W`
+ 选中文本，逐个往下查找相同文本，并高亮显示。 `按Alt+F3`
+ 光标跳转到第一行或最后一行下 `Ctrl+Up/Down`
+ 快速打开光标处的类或方法 `Ctrl+B`
+ 大小写 `ctrl+shift+U`
+ 选定代码块(trycatch if for) `Ctrl+Shift+T`

自定义快捷键

+ 左右分屏 `alt+]`
+ 上下分屏 `alt+[`
+ 复制整行 `ctrl+win`

文件颜色

> 绿色：已经加入版本控制暂未提交；  
> 红色：未加入版本控制；  
> 蓝色：加入版本控制，已提交，有改动；  
> 白色：加入版本控制，已提交，无改动；  
> 灰色：版本控制已忽略文件。

编码快捷

+ 100.fori list.for 快速for循环


## wiki

接口定义
> http://wiki.dongdaodao.com/pages/viewpage.action?pageId=5636502

模块依赖
> http://wiki.dongdaodao.com/pages/viewpage.action?pageId=11568478

## bug解决

### idea

在intellij idea中打jar包，运行提示没有主清单属性
> 可能是 IntelliJ 的问题。
> 在 Project Structure - Artifacts 里面选好 Main Class 之后，IntelliJ 会自动在下边的 Directory for META-INF/MANIFEST.MF 里填上 `/$PROJECT_DIR/src/main/java`
把这行里边的 `main/java` 删掉，变成 `/$PROJECT_DIR/src/` 试试

maven乱码
> windows环境下，Intellij idea12中maven操作时，控制台中文乱码问题（编译报错或者clean install时出现的其他错误描述乱码）
> 在cmd中mvn中文正常显示,log4j打印日志也是ok的。
> 解决方法：
> Setting->maven->runner  VMoptions: -Dfile.encoding=GB2312

intellij 出现“Usage of API documented as @since 1.6+”的解决办法
> File ->Project Structure->Project Settings -> Modules -> 你的Module名字 -> Sources -> Language Level->选个默认的就行。

### tomcat

> tomcat7默认编码iso8859-1，tomcat8默认编码utf8

### chrome浏览器

> 搜不到ajax请求的js文件，可以设置settings--preferences--sources--search in anonymous and conten script 勾选,用ctrl+shift+f进行搜索

### mongo 语法

查询

```javascript
db.col.find({key1:value1, key2:value2}).pretty()
```

插入

```javascript
document=({
    title: 'MongoDB 教程',
    description: 'MongoDB 是一个 Nosql 数据库'
});
db.COLLECTION_NAME.insert(document)
```

### freemarker 语法

三目运算符

```java
<#if (applyBaseinfoEntity.applyException)??>
      ${(applyBaseinfoEntity.applyException == '0')?string('否','是')?html}
</#if>
```

### JAVA

枚举类通过值获取对象

```java
public static TradeStatus getByValue(int value) {
    for (TradeStatus tradeStatus : values()) {
        if (tradeStatus.getValue() == value) {
            return tradeStatus;
        }
    }
    return null;
}
```

### git命令

1、安装原生git、安装一个git客户端（sourceTree/小乌龟git）
2、新建一个本地仓库：新建文件夹，进入 git bash

```shell
$ mkdir learngit
$ cd learngit
$ pwd
/Users/michael/learngit
# 这就创建了一个仓库
$ git init
Initialized empty Git repository in /Users/michael/learngit/.git/
# 这就初始化了一个仓库
```

3、然后在这个仓库文件夹中新建一个文件，在git bash中就可以add commit了
4、从远程获取

```shell
git clone http样式的仓库地址，输入用户名密码克隆下来（使用ssh样式需要配置ssh密钥）
```

5、获取分支

```shell
# 进入到克隆下来的文件夹中：
cd 文件夹
git branch
git branch -a
git checkout -b 分支名称 origin/分支名称
# 然后就把分支获取了
```

6、合并分支（记得push到远端）:先在本地合并，然后再push到远端。  
（1）假如说要将dev分支合并到master分支上  
首先，从服务器拉取master代码，并且创建本地分支：`git checkout -b 分支名称 origin/分支名称` 
然后，切换到master分支上：`git checkout master` 
然后，将dev合并到master上： `git merge`   
然后检查代码  
然后将合并好的master分支push到远端：`git push`(就可以使用命令git push origin master推送最新修改；)
（2）给当前分支添加标签tag  
一般都是将分支合并到master之后，在该处的master打一个tag作为标记。  
首先，切换到要打tag的分支，比如master，git checkout master  
然后，git tag 标签的名字，这样就给本地的develop分支打了一个标签；
然后将标签推到远端：git push origin 标签的名字 ，或者使用git push origin --tags 将全部未推送过的本地标签推送到远端。
另外，git tag 查看所以标签；git tag -d 标签名称 删除一个本地标签；git push origin :refs/tags/标签名称  这样删除一个远程标签，注意origin后面的空。
（3）在master上拉取一个新的远端分支，并跟本地分支关联。
因为用命令行是没有办法直接创建新的远端分支的（除非在gitlab上手动创建），做法是先在本地拉取一个新分支，然后推到远端，然后关联
首先，切换到master分支， `git checkout master`
然后，在本地拉取一个新的分支，`git checkout -b b5`(自己取的分支名称，这里就当是b5吧)；
然后，将本地分支推送到远端，`git push origin b5:b5`(第一个b5是本地分支名称，第二个b5是对应远端分支名称)；
然后，将两个分支关联起来，`git checkout b5`切换到b5分支，然后 `git branch -u origin/b5 b5` 这就将两个分支关联起来了。
可以使用命令 `git branch -vv` 查看关联关系

#### 解决git pull push每次都需要输入密码问题

如果我们git clone的下载代码的时候是连接的https://而不是git@git (ssh)的形式，当我们操作git pull/push到远程的时候，总是提示我们输入账号和密码才能操作成功，频繁的输入账号和密码会很麻烦。
解决办法：
git bash进入你的项目目录，输入：
git config --global credential.helper store
然后你会在你本地生成一个文本，上边记录你的账号和密码。当然这些你可以不用关心。
然后你使用上述的命令配置好之后，再操作一次git pull，然后它会提示你输入账号密码，这一次之后就不需要再次输入密码了。

#### gitignore文件用法

在git中如果想忽略掉某个文件，不让这个文件提交到版本库中，可以使用修改根目录中 .gitignore 文件的方法（如无，则需自己手工建立此文件）。这个文件每一行保存了一个匹配的规则例如：

```shell
# 此为注释 – 将被 Git 忽略
*.a       # 忽略所有 .a 结尾的文件
!lib.a    # 但 lib.a 除外
/TODO     # 仅仅忽略项目根目录下的 TODO 文件，不包括 subdir/TODO
build/    # 忽略 build/ 目录下的所有文件
doc/*.txt # 会忽略 doc/notes.txt 但不包括 doc/server/arch.txt
```

规则很简单，不做过多解释，但是有时候在项目开发过程中，突然心血来潮想把某些目录或文件加入忽略规则，按照上述方法定义后发现并未生效，原因是.gitignore只能忽略那些原来没有被track的文件，如果某些文件已经被纳入了版本管理中，则修改.gitignore是无效的。那么解决方法就是先把本地缓存删除（改变成未track状态），然后再提交：

```shell
git rm -r --cached .
git add .
git commit -m 'update .gitignore'
```

### TODO LIST

+ CpWithdrawalApplyService.
+ ----
+ 冲亚需要在t_order表中加字段，设计师的订单金额从此字段中获取。
+ 跟赵老板与财务核实发票金额（税费）
+ cp-pc开发过程中用newJs代替js路径
